{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///feb-alive.js","webpack:///webpack/bootstrap 09caeee60362091d2562","webpack:///./src/routes.js","webpack:///./src/utils.js","webpack:///./src/components/feb-alive-ssr.js","webpack:///./src/navigator.js"],"names":["root","factory","exports","module","define","amd","a","i","self","this","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","inBrowser","window","routes","debug_routes","Error","genKey","replace","r","Math","random","toString","matches","pattern","__WEBPACK_IMPORTED_MODULE_5__babel_runtime_corejs2_core_js_array_is_array___default","indexOf","split","RegExp","test","getLocation","base","mode","path","location","pathname","hash","slice","length","search","remove","arr","item","index","splice","getCacheVnode","cache","key","isPlainObject","obj","_toString","deepClone","val","res","defineRouteMeta","forEach","route","meta","__WEBPACK_IMPORTED_MODULE_4__babel_runtime_corejs2_core_js_object_define_property___default","writable","value","children","supportHistoryState","parseUrl","abstract","render","$slots","default","__WEBPACK_IMPORTED_MODULE_0__routes__","bus","keyName","forward","toRoute","fromRoute","to","from","Routes","push","$emit","back","count","refresh","reset","record","replaceFlag","history","state","toIndex","lastIndexOf"],"mappings":"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","file":"feb-alive.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\n * 记录浏览历史\n */\nvar inBrowser = typeof window !== 'undefined';\nvar routes = [];\n\nif (inBrowser) {\n  window.debug_routes = routes;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routes);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/object/create\\\"\");\n\n\n/**\n * 记录feb-alive中的缓存列表\n */\nvar inBrowser = typeof window !== 'undefined';\n\nvar cache = __WEBPACK_IMPORTED_MODULE_0__babel_runtime_corejs2_core_js_object_create___default()(null);\n\nif (inBrowser) {\n  window.debug_cache = cache;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (cache);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export supportsPushState */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return supportHistoryState; });\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = genKey;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = matches;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = getLocation;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = remove;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getCacheVnode;\n/* unused harmony export isPlainObject */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = deepClone;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = defineRouteMeta;\n/* unused harmony export urlRegExp */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return parseUrl; });\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/object/keys\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/helpers/typeof\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/helpers/slicedToArray\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/object/create\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/object/define-property\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/array/is-array\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/object/assign\\\"\");\n\n\n\n\n\n\n\nvar inBrowser = typeof window !== 'undefined';\nvar _toString = Object.prototype.toString; // 判断是否支持HTML5 history\n\nvar supportsPushState = inBrowser && function () {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) {\n    return false;\n  }\n\n  return window.history && 'pushState' in window.history;\n}();\nvar supportHistoryState = function () {\n  if (!supportsPushState) {\n    return false;\n  } // 测试写操作\n\n\n  history.replaceState(__WEBPACK_IMPORTED_MODULE_6__babel_runtime_corejs2_core_js_object_assign___default()({\n    _debug: 'ok'\n  }, history.state), null);\n\n  if (!history.state) {\n    return false;\n  } else {\n    var originState = __WEBPACK_IMPORTED_MODULE_6__babel_runtime_corejs2_core_js_object_assign___default()({}, history.state);\n\n    delete originState._debug;\n    history.replaceState(originState, null);\n    return true;\n  }\n}();\n/**\n * 生成页面主键\n */\n\nfunction genKey() {\n  var t = 'xxxxxxxx';\n  return t.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * 检测路由匹配\n * @param {Array/String/RegExp} pattern 路由主键数组/字符串/正则表达式\n * @param {String} name 路由主键\n */\n\nfunction matches(pattern, name) {\n  if (__WEBPACK_IMPORTED_MODULE_5__babel_runtime_corejs2_core_js_array_is_array___default()(pattern)) {\n    return pattern.indexOf(name) > -1;\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1;\n  } else if (pattern instanceof RegExp) {\n    return pattern.test(name);\n  }\n\n  return false;\n}\n/**\n * 获取当前url路径\n * @param {String} base | 基础路径\n * @param {String} mode | 路由模式\n */\n\nfunction getLocation(base, mode) {\n  var path = window.location.pathname;\n\n  if (mode === 'hash') {\n    return window.location.hash.replace(/^#\\//, '');\n  }\n\n  if (base && path.indexOf(base) === 0) {\n    path = path.slice(base.length);\n  }\n\n  return (path || '/') + window.location.search + window.location.hash;\n}\n/**\n * 删除数组中匹配元素\n * @param {Array} arr 数组\n * @param {String} item 需要删除的元素\n */\n\nfunction remove(arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n\n    if (index > -1) {\n      return arr.splice(index, 1);\n    }\n  }\n}\n/**\n * 获取缓存组件实例\n * @param {Object} cache 缓存\n * @param {string} key 主键\n */\n\nfunction getCacheVnode(cache, key) {\n  if (typeof key === 'string' || typeof key === 'number') {\n    return getCacheVnode(cache, cache[key]);\n  }\n\n  return key;\n}\nfunction isPlainObject(obj) {\n  return _toString.call(obj) === '[object Object]';\n}\nfunction deepClone(val) {\n  if (isPlainObject(val)) {\n    var res = {};\n\n    for (var key in val) {\n      res[key] = deepClone(val[key]);\n    }\n\n    return res;\n  } else if (__WEBPACK_IMPORTED_MODULE_5__babel_runtime_corejs2_core_js_array_is_array___default()(val)) {\n    return val.slice();\n  } else {\n    return val;\n  }\n}\nfunction defineRouteMeta(routes) {\n  routes.forEach(function (route) {\n    var meta = deepClone(route.meta);\n\n    if (isPlainObject(route.meta)) {\n      __WEBPACK_IMPORTED_MODULE_4__babel_runtime_corejs2_core_js_object_define_property___default()(route.meta, '_default', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: meta\n      });\n    }\n\n    if (route.children) {\n      defineRouteMeta(route.children);\n    }\n  });\n}\nvar urlRegExp = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-.,@?^=%&:/~+#]*[\\w\\-@?^=%&/~+#])?/;\n\nfunction parsePath(path) {\n  var hash = '';\n  var query = '';\n  var hashIndex = path.indexOf('#');\n\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex);\n    path = path.slice(0, hashIndex);\n  }\n\n  var queryIndex = path.indexOf('?');\n\n  if (queryIndex >= 0) {\n    query = path.slice(queryIndex + 1);\n    path = path.slice(0, queryIndex);\n  }\n\n  return {\n    pathStr: path,\n    queryStr: query,\n    hashStr: hash\n  };\n}\n\nvar genLocation = function genLocation(url) {\n  var query = __WEBPACK_IMPORTED_MODULE_3__babel_runtime_corejs2_core_js_object_create___default()(null);\n\n  var _parsePath = parsePath(url),\n      pathStr = _parsePath.pathStr,\n      queryStr = _parsePath.queryStr,\n      hashStr = _parsePath.hashStr;\n\n  if (queryStr) {\n    queryStr.split('&').forEach(function (kv) {\n      var _kv$split = kv.split('='),\n          _kv$split2 = __WEBPACK_IMPORTED_MODULE_2__babel_runtime_corejs2_helpers_slicedToArray___default()(_kv$split, 2),\n          key = _kv$split2[0],\n          val = _kv$split2[1];\n\n      query[key] = decodeURIComponent(val);\n    });\n  }\n\n  return {\n    path: pathStr,\n    query: query,\n    hash: hashStr\n  };\n};\n\nvar stringifyPrimitive = function stringifyPrimitive(v) {\n  switch (__WEBPACK_IMPORTED_MODULE_1__babel_runtime_corejs2_helpers_typeof___default()(v)) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nvar stringifyQuery = function stringifyQuery(query) {\n  var str = '';\n\n  __WEBPACK_IMPORTED_MODULE_0__babel_runtime_corejs2_core_js_object_keys___default()(query).forEach(function (key, index) {\n    var val = query[key];\n\n    if (index !== 0) {\n      str += '&';\n    }\n\n    str += key + '=' + encodeURIComponent(stringifyPrimitive(val));\n  });\n\n  return str;\n}; // 解析url\n\n\nvar parseUrl = function parseUrl(url) {\n  if (typeof url === 'string') {\n    url = {\n      path: url,\n      query: __WEBPACK_IMPORTED_MODULE_3__babel_runtime_corejs2_core_js_object_create___default()(null)\n    };\n  } // path可能自带参数\n\n\n  var _url = url,\n      path = _url.path,\n      query = _url.query;\n  var location = genLocation(path);\n\n  var newQuery = __WEBPACK_IMPORTED_MODULE_6__babel_runtime_corejs2_core_js_object_assign___default()({}, location.query, query);\n\n  var queryStr = stringifyQuery(newQuery);\n  queryStr = queryStr ? '?' + queryStr : '';\n  return location.path + queryStr + location.hash;\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/object/assign\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/object/create\\\"\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_feb_alive__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_feb_alive_ssr__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__routes__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__cache__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__navigator__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils__ = __webpack_require__(2);\n\n\n\n\n\n\n\n\n\nvar metaMap = __WEBPACK_IMPORTED_MODULE_1__babel_runtime_corejs2_core_js_object_create___default()(null);\n\nvar hasReset = false;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  install: function install(Vue) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        router = _ref.router,\n        _ref$keyName = _ref.keyName,\n        keyName = _ref$keyName === void 0 ? 'key' : _ref$keyName,\n        _ref$isServer = _ref.isServer,\n        isServer = _ref$isServer === void 0 ? false : _ref$isServer,\n        _ref$maxPage = _ref.maxPage,\n        maxPage = _ref$maxPage === void 0 ? 10 : _ref$maxPage,\n        beforeLocationChange = _ref.beforeLocationChange;\n\n    if (isServer) {\n      Vue.component('feb-alive', Object(__WEBPACK_IMPORTED_MODULE_3__components_feb_alive_ssr__[\"a\" /* default */])());\n      return;\n    }\n\n    Vue.component('feb-alive', Object(__WEBPACK_IMPORTED_MODULE_2__components_feb_alive__[\"a\" /* default */])(keyName, maxPage));\n\n    if (!router) {\n      console.warn('need options: router');\n      return;\n    }\n\n    window.debug_metaMap = metaMap; // 缓存路由初始meta\n\n    var routes = router.options.routes;\n    Object(__WEBPACK_IMPORTED_MODULE_7__utils__[\"b\" /* defineRouteMeta */])(routes);\n    var bus = new Vue();\n    var navigator = Object(__WEBPACK_IMPORTED_MODULE_6__navigator__[\"a\" /* default */])(bus, keyName);\n    var replace = router.replace;\n    var lastKey = '';\n    var replaceFlag = false;\n\n    router.replace = function () {\n      replaceFlag = true;\n      replace.apply(this, arguments);\n    };\n\n    var ensureURL = router.history.ensureURL;\n\n    router.history.ensureURL = function () {\n      ensureURL.apply(this, arguments); // recover to.meta\n\n      var from = router.febRecord.from;\n      var to = router.febRecord.to;\n      Vue.location.recoverMeta(from, to); // do record\n\n      navigator.record(to, from, replaceFlag);\n      replaceFlag = false;\n    };\n\n    router.beforeEach(function (to, from, next) {\n      // reset to.meta\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_corejs2_core_js_object_assign___default()(to.meta, to.meta._default);\n\n      router.febRecord = {\n        to: to,\n        from: from,\n        replaceFlag: replaceFlag\n      };\n      next();\n    }); // 只有客户端才有的方法\n\n    Vue.location = Vue.prototype.$location = {\n      to: function to(url) {\n        var native = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        try {\n          if (!url) {\n            console.warn('FEB-ALIVE: 跳转链接不能为空');\n            return;\n          }\n\n          url = Object(__WEBPACK_IMPORTED_MODULE_7__utils__[\"g\" /* parseUrl */])(url);\n          url = url.replace(new RegExp(\"^\".concat(location.origin)), '');\n          var matchRoute = router.match(url);\n          var matched = matchRoute.matched;\n\n          if (!matched.length || matched[0].path === '*' || native) {\n            window.location.href = url;\n            return;\n          }\n\n          if (!beforeLocationChange) {\n            router.push({\n              path: url\n            });\n            return;\n          }\n\n          beforeLocationChange(route, function (state) {\n            if (state === false) {\n              window.location.href = url;\n            } else {\n              router.push({\n                path: url\n              });\n            }\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      },\n      replace: function replace(url) {\n        var native = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        try {\n          if (!url) {\n            console.warn('FEB-ALIVE: 跳转链接不能为空');\n            return;\n          }\n\n          url = Object(__WEBPACK_IMPORTED_MODULE_7__utils__[\"g\" /* parseUrl */])(url);\n          url = url.replace(new RegExp(\"^\".concat(location.origin)), '');\n          var matchRoute = router.match(url);\n          var matched = matchRoute.matched;\n\n          if (!matched.length || matched[0].path === '*' || native) {\n            window.location.replace(url);\n            return;\n          }\n\n          if (!beforeLocationChange) {\n            router.replace({\n              path: url\n            });\n            return;\n          }\n\n          beforeLocationChange(route, function (state) {\n            if (state === false) {\n              window.location.replace(url);\n            } else {\n              router.replace({\n                path: url\n              });\n            }\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      },\n      go: function go(n) {\n        router.go(n);\n      },\n      back: function back() {\n        router.back();\n      },\n      forward: function forward() {\n        router.forward();\n      },\n      // 恢复缓存，确保在导航切换后执行\n      recoverMeta: function recoverMeta(from, to) {\n        var isSamePage = from.path === to.path;\n        var fromMeta = from.meta;\n        var toMeta = to.meta;\n        var key = history.state[keyName];\n        var isReplace = router.febRecord.replaceFlag; // 缓存上一页面meta配置\n\n        if (!fromMeta.disableCache && lastKey) {\n          metaMap[lastKey] = Object(__WEBPACK_IMPORTED_MODULE_7__utils__[\"a\" /* deepClone */])(fromMeta);\n        }\n\n        lastKey = key; // 匹配meta缓存\n\n        toMeta.fromCache = false;\n\n        if (!isReplace || isReplace && isSamePage) {\n          if (metaMap[key]) {\n            __WEBPACK_IMPORTED_MODULE_0__babel_runtime_corejs2_core_js_object_assign___default()(toMeta, metaMap[key]);\n\n            toMeta.fromCache = true;\n          }\n        }\n\n        return toMeta;\n      },\n      getRoutes: function getRoutes() {\n        return __WEBPACK_IMPORTED_MODULE_4__routes__[\"a\" /* default */].slice();\n      },\n      getCache: function getCache() {\n        return __WEBPACK_IMPORTED_MODULE_5__cache__[\"a\" /* default */];\n      },\n      getKey: function getKey() {\n        return history.state && history.state[keyName];\n      },\n      cleanRoutes: function cleanRoutes() {\n        return navigator.reset();\n      },\n      on: function on(event, callback) {\n        bus.$on(event, callback);\n      },\n      once: function once(event, callback) {\n        bus.$once(event, callback);\n      },\n      off: function off(event, callback) {\n        bus.$off(event, callback);\n      }\n    };\n  },\n  resetHistory: function resetHistory() {\n    if (typeof history !== 'undefined' && !hasReset) {\n      var nativeHistoryReplaceState = history.replaceState.bind(history);\n\n      history.replaceState = function (state, title, path) {\n        nativeHistoryReplaceState(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_corejs2_core_js_object_assign___default()({}, history.state, state), title, path);\n      };\n\n      hasReset = true;\n    }\n  }\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/helpers/defineProperty\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/object/create\\\"\");\nthrow new Error(\"Cannot find module \\\"@babel/runtime-corejs2/core-js/parse-int\\\"\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__routes__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__cache__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils__ = __webpack_require__(2);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (keyName, maxPage) {\n  return {\n    name: 'feb-alive',\n    abstract: true,\n    methods: {\n      cacheClear: function cacheClear() {\n        // 判断index 删除老的\n        if (maxPage && this.keys.length > __WEBPACK_IMPORTED_MODULE_2__babel_runtime_corejs2_core_js_parse_int___default()(maxPage)) {\n          var oldKey = this.keys[0];\n          var oldVnode = this.cache[oldKey];\n          oldVnode && oldVnode.componentInstance && oldVnode.componentInstance.$destroy();\n          Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"h\" /* remove */])(this.keys, oldKey);\n          delete this.cache[oldKey];\n        }\n\n        for (var key in this.cache) {\n          if (!Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"f\" /* matches */])(__WEBPACK_IMPORTED_MODULE_3__routes__[\"a\" /* default */], key)) {\n            var vnode = this.cache[key];\n            vnode && vnode.componentInstance && vnode.componentInstance.$destroy();\n            Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"h\" /* remove */])(this.keys, key);\n            delete this.cache[key];\n          }\n        }\n      }\n    },\n    created: function created() {\n      this.cache = __WEBPACK_IMPORTED_MODULE_1__babel_runtime_corejs2_core_js_object_create___default()(null);\n      this.keys = [];\n    },\n    // 当路由变化时候，会触发feb-alive的$fourceUpdate\n    render: function render() {\n      // 取到router-view的vnode\n      var vnode = this.$slots.default ? this.$slots.default[0] : null;\n      var disableCache = this.$route.meta.disableCache; // 如果不支持html5 history 写操作则不做缓存处理\n\n      if (!__WEBPACK_IMPORTED_MODULE_5__utils__[\"i\" /* supportHistoryState */]) {\n        return vnode;\n      } // 尝试写入key\n\n\n      if (!history.state || !history.state[keyName]) {\n        var state = __WEBPACK_IMPORTED_MODULE_0__babel_runtime_corejs2_helpers_defineProperty___default()({}, keyName, Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"c\" /* genKey */])());\n\n        var path = Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"e\" /* getLocation */])();\n        history.replaceState(state, null, path);\n      } // 有些浏览器不支持往state中写入数据\n\n\n      if (!history.state) {\n        return vnode;\n      } // 指定不使用缓存\n\n\n      if (disableCache) {\n        return vnode;\n      } // 核心逻辑\n\n\n      if (vnode) {\n        var cache = this.cache,\n            keys = this.keys;\n        var key = history.state[keyName];\n        var _this$$router$febReco = this.$router.febRecord,\n            from = _this$$router$febReco.from,\n            to = _this$$router$febReco.to;\n        var parent = this.$parent;\n        var depth = 0;\n\n        var cacheVnode = __WEBPACK_IMPORTED_MODULE_1__babel_runtime_corejs2_core_js_object_create___default()(null);\n\n        vnode && (vnode.data.febAlive = true);\n\n        while (parent && parent._routerRoot !== parent) {\n          if (parent.$vnode && parent.$vnode.data.febAlive) {\n            depth++;\n          }\n\n          parent = parent.$parent;\n        } // 记录缓存及其所在层级\n\n\n        __WEBPACK_IMPORTED_MODULE_4__cache__[\"a\" /* default */][depth] = cache; // /home/a backTo /other\n        // 内层feb-alive实例会被保存，防止从/home/a 跳转到 /other的时候内层feb-alive执行render时候，多生成一个实例\n\n        if (to.matched.length < depth + 1) {\n          return null;\n        }\n\n        if (from.matched[depth] === to.matched[depth] && from.matched.slice(-1)[0] !== to.matched.slice(-1)[0]) {\n          // 嵌套路由跳转 && 父级路由\n          // /home/a --> /home/b\n          // 针对home组件，无需主动设置componentInstance\n          // /home/a --> /home/b 时，home组件不应该重新实例化。直接进行key设置复用即可\n          // 父路由通过key进行复用\n          cache[key] = cache[key] || this.keys[this.keys.length - 1];\n          cacheVnode = Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"d\" /* getCacheVnode */])(cache, cache[key]);\n\n          if (cacheVnode) {\n            vnode.key = cacheVnode.key;\n            Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"h\" /* remove */])(keys, key);\n            keys.push(key);\n          } else {\n            this.cacheClear();\n            cache[key] = vnode;\n            keys.push(key);\n          }\n        } else {\n          // 嵌套路由跳转 && 子路由\n          // 正常跳转 && 动态路由跳转\n          // /a --> /b\n          // /page/1 --> /page/2\n          vnode.key = \"__febAlive-\".concat(key, \"-\").concat(vnode.tag);\n          cacheVnode = Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"d\" /* getCacheVnode */])(cache, key); // 只有相同的vnode才允许复用组件实例，否则虽然实例复用了，但是在patch的最后阶段，会将复用的dom删除\n\n          if (cacheVnode && vnode.tag === cacheVnode.tag) {\n            // 从普通路由后退到嵌套路由时，才需要复原key\n            // /about -> /home/a\n            vnode.key = cacheVnode.key;\n            vnode.componentInstance = cacheVnode.componentInstance;\n            Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"h\" /* remove */])(keys, key);\n            keys.push(key);\n          } else {\n            this.cacheClear();\n            cache[key] = vnode;\n            keys.push(key);\n          }\n        }\n\n        vnode.data.keepAlive = true;\n      }\n\n      return vnode;\n    },\n    destroyed: function destroyed() {\n      for (var key in this.cache) {\n        var vnode = this.cache[key];\n        vnode && vnode.componentInstance.$destroy();\n      }\n\n      this.keys = [];\n      this.cache = {};\n    }\n  };\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  return {\n    name: 'feb-alive',\n    abstract: true,\n    render: function render() {\n      var vnode = this.$slots.default ? this.$slots.default[0] : null;\n      return vnode;\n    }\n  };\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__routes__ = __webpack_require__(0);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (bus, keyName) {\n  var forward = function forward(name, toRoute, fromRoute) {\n    var to = {\n      route: toRoute\n    };\n    var from = {\n      route: fromRoute\n    };\n    var routes = __WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */];\n    from.name = routes[routes.length - 1] || null;\n    to.name = name;\n    routes.push(name);\n    bus.$emit('forward', to, from);\n  };\n\n  var back = function back(count, toRoute, fromRoute) {\n    var to = {\n      route: toRoute\n    };\n    var from = {\n      route: fromRoute\n    };\n    var routes = __WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */];\n    from.name = routes[routes.length - 1];\n    to.name = routes[routes.length - 1 - count];\n    routes.splice(__WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */].length - count, count);\n    bus.$emit('back', to, from);\n  };\n\n  var replace = function replace(name, toRoute, fromRoute) {\n    var to = {\n      route: toRoute\n    };\n    var from = {\n      route: fromRoute\n    };\n    var routes = __WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */];\n    from.name = routes[routes.length - 1] || null;\n    to.name = name;\n    routes.splice(__WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */].length - 1, 1, name);\n    bus.$emit('replace', to, from);\n  };\n\n  var refresh = function refresh(toRoute, fromRoute) {\n    var to = {\n      route: toRoute\n    };\n    var from = {\n      route: fromRoute\n    };\n    var routes = __WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */];\n    to.name = from.name = routes[routes.length - 1];\n    bus.$emit('refresh', to, from);\n  };\n\n  var reset = function reset() {\n    __WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */].splice(0, __WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */].length);\n    bus.$emit('reset');\n  };\n\n  var record = function record(toRoute, fromRoute, replaceFlag) {\n    if (!history.state) {\n      return;\n    }\n\n    var name = history.state[keyName];\n\n    if (!name) {\n      return;\n    }\n\n    if (replaceFlag) {\n      replace(name, toRoute, fromRoute);\n    } else {\n      var toIndex = __WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */].lastIndexOf(name);\n\n      if (toIndex === -1) {\n        forward(name, toRoute, fromRoute);\n      } else if (toIndex === __WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */].length - 1) {\n        refresh(toRoute, fromRoute);\n      } else {\n        back(__WEBPACK_IMPORTED_MODULE_0__routes__[\"a\" /* default */].length - 1 - toIndex, toRoute, fromRoute);\n      }\n    }\n  };\n\n  return {\n    record: record,\n    reset: reset\n  };\n});\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// feb-alive.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 09caeee60362091d2562","/**\n * 记录浏览历史\n */\n\nconst inBrowser = typeof window !== 'undefined'\nlet routes = []\nif (inBrowser) {\n  window.debug_routes = routes\n}\nexport default routes\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes.js","const inBrowser = typeof window !== 'undefined'\nconst _toString = Object.prototype.toString\n\n// 判断是否支持HTML5 history\nexport const supportsPushState = inBrowser && (function () {\n  var ua = window.navigator.userAgent\n\n  if (\n    (ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) &&\n    ua.indexOf('Mobile Safari') !== -1 &&\n    ua.indexOf('Chrome') === -1 &&\n    ua.indexOf('Windows Phone') === -1\n  ) {\n    return false\n  }\n\n  return window.history && 'pushState' in window.history\n})()\n\nexport const supportHistoryState = (function () {\n  if (!supportsPushState) {\n    return false\n  }\n  // 测试写操作\n  history.replaceState(Object.assign({ _debug: 'ok' }, history.state), null)\n  if (!history.state) {\n    return false\n  } else {\n    let originState = Object.assign({}, history.state)\n    delete originState._debug\n    history.replaceState(originState, null)\n    return true\n  }\n})()\n\n/**\n * 生成页面主键\n */\nexport function genKey () {\n  const t = 'xxxxxxxx'\n  return t.replace(/[xy]/g, function (c) {\n    const r = Math.random() * 16 | 0\n    const v = c === 'x'\n      ? r\n      : (r & 0x3 | 0x8)\n    return v.toString(16)\n  })\n}\n\n/**\n * 检测路由匹配\n * @param {Array/String/RegExp} pattern 路由主键数组/字符串/正则表达式\n * @param {String} name 路由主键\n */\nexport function matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (pattern instanceof RegExp) {\n    return pattern.test(name)\n  }\n  return false\n}\n\n/**\n * 获取当前url路径\n * @param {String} base | 基础路径\n * @param {String} mode | 路由模式\n */\nexport function getLocation (base, mode) {\n  var path = window.location.pathname\n  if (mode === 'hash') {\n    return window.location.hash.replace(/^#\\//, '')\n  }\n  if (base && path.indexOf(base) === 0) {\n    path = path.slice(base.length)\n  }\n  return (path || '/') + window.location.search + window.location.hash\n}\n\n/**\n * 删除数组中匹配元素\n * @param {Array} arr 数组\n * @param {String} item 需要删除的元素\n */\nexport function remove (arr, item) {\n  if (arr.length) {\n    const index = arr.indexOf(item)\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * 获取缓存组件实例\n * @param {Object} cache 缓存\n * @param {string} key 主键\n */\nexport function getCacheVnode (cache, key) {\n  if (typeof key === 'string' || typeof key === 'number') {\n    return getCacheVnode(cache, cache[key])\n  }\n  return key\n}\n\nexport function isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nexport function deepClone (val) {\n  if (isPlainObject(val)) {\n    const res = {}\n    for (const key in val) {\n      res[key] = deepClone(val[key])\n    }\n    return res\n  } else if (Array.isArray(val)) {\n    return val.slice()\n  } else {\n    return val\n  }\n}\n\nexport function defineRouteMeta (routes) {\n  routes.forEach(route => {\n    const meta = deepClone(route.meta)\n    if (isPlainObject(route.meta)) {\n      Object.defineProperty(route.meta, '_default', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: meta\n      })\n    }\n    if (route.children) {\n      defineRouteMeta(route.children)\n    }\n  })\n}\n\nexport const urlRegExp = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-.,@?^=%&:/~+#]*[\\w\\-@?^=%&/~+#])?/\n\nfunction parsePath (path) {\n  let hash = ''\n  let query = ''\n\n  const hashIndex = path.indexOf('#')\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex)\n    path = path.slice(0, hashIndex)\n  }\n\n  const queryIndex = path.indexOf('?')\n  if (queryIndex >= 0) {\n    query = path.slice(queryIndex + 1)\n    path = path.slice(0, queryIndex)\n  }\n\n  return {\n    pathStr: path,\n    queryStr: query,\n    hashStr: hash\n  }\n}\n\nconst genLocation = function (url) {\n  const query = Object.create(null)\n  const { pathStr, queryStr, hashStr } = parsePath(url)\n  if (queryStr) {\n    queryStr.split('&').forEach(kv => {\n      const [key, val] = kv.split('=')\n      query[key] = decodeURIComponent(val)\n    })\n  }\n  return {\n    path: pathStr,\n    query,\n    hash: hashStr\n  }\n}\n\nconst stringifyPrimitive = function (v) {\n  switch (typeof v) {\n    case 'string':\n      return v\n    case 'boolean':\n      return v ? 'true' : 'false'\n    case 'number':\n      return isFinite(v) ? v : ''\n    default:\n      return ''\n  }\n}\n\nconst stringifyQuery = function (query) {\n  let str = ''\n  Object.keys(query).forEach((key, index) => {\n    const val = query[key]\n    if (index !== 0) {\n      str += '&'\n    }\n    str += key + '=' + encodeURIComponent(stringifyPrimitive(val))\n  })\n  return str\n}\n\n// 解析url\nexport const parseUrl = function (url) {\n  if (typeof url === 'string') {\n    url = {\n      path: url,\n      query: Object.create(null)\n    }\n  }\n  // path可能自带参数\n  const { path, query } = url\n  const location = genLocation(path)\n  const newQuery = Object.assign({}, location.query, query)\n  let queryStr = stringifyQuery(newQuery)\n  queryStr = queryStr ? '?' + queryStr : ''\n  return location.path + queryStr + location.hash\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","export default () => {\n  return {\n    name: 'feb-alive',\n    abstract: true,\n    render () {\n      const vnode = this.$slots.default ? this.$slots.default[0] : null\n      return vnode\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/feb-alive-ssr.js","import Routes from './routes'\n\nexport default (bus, keyName) => {\n  const forward = (name, toRoute, fromRoute) => {\n    const to = { route: toRoute }\n    const from = { route: fromRoute }\n    const routes = Routes\n    from.name = routes[routes.length - 1] || null\n    to.name = name\n    routes.push(name)\n    bus.$emit('forward', to, from)\n  }\n  const back = (count, toRoute, fromRoute) => {\n    const to = { route: toRoute }\n    const from = { route: fromRoute }\n    const routes = Routes\n    from.name = routes[routes.length - 1]\n    to.name = routes[routes.length - 1 - count]\n    routes.splice(Routes.length - count, count)\n    bus.$emit('back', to, from)\n  }\n  const replace = (name, toRoute, fromRoute) => {\n    const to = { route: toRoute }\n    const from = { route: fromRoute }\n    const routes = Routes\n    from.name = routes[routes.length - 1] || null\n    to.name = name\n    routes.splice(Routes.length - 1, 1, name)\n    bus.$emit('replace', to, from)\n  }\n  const refresh = (toRoute, fromRoute) => {\n    const to = { route: toRoute }\n    const from = { route: fromRoute }\n    const routes = Routes\n    to.name = from.name = routes[routes.length - 1]\n    bus.$emit('refresh', to, from)\n  }\n  const reset = () => {\n    Routes.splice(0, Routes.length)\n    bus.$emit('reset')\n  }\n\n  const record = (toRoute, fromRoute, replaceFlag) => {\n    if (!history.state) {\n      return\n    }\n    const name = history.state[keyName]\n    if (!name) {\n      return\n    }\n    if (replaceFlag) {\n      replace(name, toRoute, fromRoute)\n    } else {\n      const toIndex = Routes.lastIndexOf(name)\n      if (toIndex === -1) {\n        forward(name, toRoute, fromRoute)\n      } else if (toIndex === Routes.length - 1) {\n        refresh(toRoute, fromRoute)\n      } else {\n        back(Routes.length - 1 - toIndex, toRoute, fromRoute)\n      }\n    }\n  }\n\n  return {\n    record, reset\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/navigator.js"],"sourceRoot":""}